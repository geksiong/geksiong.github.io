<!DOCTYPE html><link rel="stylesheet" href="/assets/a65afd8b.4fbfad6d.css" />
<link rel="stylesheet" href="/assets/61ac98b4.eaf02831.css" />
<link rel="stylesheet" href="/assets/3aa4f882.10421762.css" /><script type="module">
</script><html lang="en" class="scroll-pt-20">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Web &amp; Mobile Application Development on Apple Silicon</title>

  <!-- KaTeX stylesheet -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css" integrity="sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB" crossorigin="anonymous">
<link rel="stylesheet" href="/assets/a65afd8b.4fbfad6d.css" />
<link rel="stylesheet" href="/assets/61ac98b4.eaf02831.css" />
<link rel="stylesheet" href="/assets/3aa4f882.10421762.css" /><script type="module">
</script></head>

	<body class="theme-default typography-default font-body bg-background">
		<div class="subpixel-antialiased text-darkshade">
			<div class="flex flex-col min-h-screen space-y-12">
				

<header class="container sticky top-0 z-50 flex items-center justify-between w-full max-w-3xl px-6 py-4 mx-auto xl:max-w-5xl text-darkshade bg-lightshade astro-FT2W3FBR">
	<a href="/" class="block h-6 text-2xl font-semibold hover:text-main astro-FT2W3FBR">
		<img src="https://s.gravatar.com/avatar/f4fc421dae2d7fc4b8b66112f838f881?s=80" class="inline-block h-8 astro-FT2W3FBR"><span class="hidden pl-2 sm:inline-block astro-FT2W3FBR">Production Not Ready</span>
	</a>

	<div class="flex items-center astro-FT2W3FBR">
		<!-- Main navigation -->
		<nav class="hidden space-x-2 font-medium sm:block astro-FT2W3FBR">
			<a href="/posts" class="p-1 hover:border-b-4 hover:border-main hover:text-main astro-FT2W3FBR">Posts</a><a href="/posts/tags" class="p-1 hover:border-b-4 hover:border-main hover:text-main astro-FT2W3FBR">Tags</a><a href="/website" class="p-1 hover:border-b-4 hover:border-main hover:text-main astro-FT2W3FBR">About</a><a href="/geksiong" class="p-1 hover:border-b-4 hover:border-main hover:text-main astro-FT2W3FBR">Bio</a>
		</nav>

		<!-- Dark Mode toggle -->
		<!--button aria-label="Toggle Dark Mode" type="button" class="w-8 h-8 p-1 ml-1 mr-1 rounded sm:ml-4 hover:text-main">
			<Icon name="tabler:moon" class="w-6"/>
		</button -->

		<!-- Mobile menu toggle -->
		<div class="sm:hidden astro-FT2W3FBR">
			<button type="button" aria-label="Toggle Menu" class="w-8 h-8 ml-1 mr-1 rounded astro-FT2W3FBR" onclick="toggleMobileMenu()">
				<svg viewBox="0 0 24 24" id="menuOpenBtn" class="w-6 astro-FT2W3FBR" astro-icon="tabler:menu"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M4 8h16M4 16h16"/></g></svg>
				<svg viewBox="0 0 24 24" id="menuCloseBtn" class="hidden w-6 astro-FT2W3FBR" astro-icon="tabler:x"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M18 6 6 18M6 6l12 12"/></g></svg>
			</button>
		</div>
	</div>

	<!-- Mobile menu -->
	<div id="mobile_menu" class="fixed right-0 z-10 w-1/2 h-full duration-300 ease-in-out transform top-16 bg-darkshade text-lightshade hideMenu astro-FT2W3FBR">
		<nav class="fixed h-full mt-8 astro-FT2W3FBR">
			<div class="px-12 py-2 astro-FT2W3FBR">
					<a href="/posts" class="text-2xl font-bold tracking-widest astro-FT2W3FBR">Posts</a>
				</div><div class="px-12 py-2 astro-FT2W3FBR">
					<a href="/posts/tags" class="text-2xl font-bold tracking-widest astro-FT2W3FBR">Tags</a>
				</div><div class="px-12 py-2 astro-FT2W3FBR">
					<a href="/website" class="text-2xl font-bold tracking-widest astro-FT2W3FBR">About</a>
				</div><div class="px-12 py-2 astro-FT2W3FBR">
					<a href="/geksiong" class="text-2xl font-bold tracking-widest astro-FT2W3FBR">Bio</a>
				</div>
		</nav>
	</div>

</header>


				<main class="container flex-1 max-w-3xl px-6 mx-auto xl:max-w-5xl">
					<link rel="stylesheet" href="/assets/a65afd8b.4fbfad6d.css" />
<link rel="stylesheet" href="/assets/61ac98b4.eaf02831.css" />
<link rel="stylesheet" href="/assets/3aa4f882.10421762.css" /><script type="module">
</script><article class="pb-8 space-y-6 md:space-y-8">

		<div class="flex flex-wrap space-x-3 font-semibold">
			<a href="/posts/tags/macbook" class="p-1 text-sm tracking-wider uppercase rounded-md text-main hover:bg-main/20">macbook</a>
		</div>

		<h1 class="text-3xl font-bold font-heading md:tracking-normal md:text-4xl">Web &amp; Mobile Application Development on Apple Silicon</h1>

		<div class="text-xl font-leading text-darkshade/75"></div>

		<div class="flex flex-col items-start justify-between md:flex-row md:items-center">
			<div class="flex items-center space-x-2">
				<img src="https://s.gravatar.com/avatar/f4fc421dae2d7fc4b8b66112f838f881?s=80" alt="" class="w-12 h-12 border-2 rounded-full shadow-lg border-lightshade">
				<p class="text-sm">
					<span class="font-semibold">GS Low</span>
					<br><span class="text-darkshade/50">Sun Jun 06 2021</span>
				</p>
			</div>
		</div>

    <div class="flex flex-col sm:flex-row-reverse">
			<aside class="w-full pb-8 pl-6 sm:w-1/4 not-prose">
		  <nav class="text-sm">
					<div>
						<h2 class="pb-4 text-sm font-semibold tracking-widest uppercase md:border-l-2 md:px-4 ">On This Page</h2>
						<div class="flex flex-col">
							<div class="md:border-l-2 md:px-4 md:py-1 hover:text-main hover:border-main hover:bg-main/20"><div style=""><a href="#introduction" class="block w-full">Introduction</a></div></div><div class="md:border-l-2 md:px-4 md:py-1 hover:text-main hover:border-main hover:bg-main/20"><div style=""><a href="#native-vs-emulation" class="block w-full">Native vs Emulation</a></div></div><div class="md:border-l-2 md:px-4 md:py-1 hover:text-main hover:border-main hover:bg-main/20"><div style=""><a href="#development-tools" class="block w-full">Development Tools</a></div></div><div class="md:border-l-2 md:px-4 md:py-1 hover:text-main hover:border-main hover:bg-main/20"><div style="padding-left: 0.5rem;"><a href="#google-chrome" class="block w-full">Google Chrome</a></div></div><div class="md:border-l-2 md:px-4 md:py-1 hover:text-main hover:border-main hover:bg-main/20"><div style="padding-left: 0.5rem;"><a href="#electron-apps" class="block w-full">Electron Apps</a></div></div><div class="md:border-l-2 md:px-4 md:py-1 hover:text-main hover:border-main hover:bg-main/20"><div style="padding-left: 0.5rem;"><a href="#vscode" class="block w-full">VSCode</a></div></div><div class="md:border-l-2 md:px-4 md:py-1 hover:text-main hover:border-main hover:bg-main/20"><div style="padding-left: 0.5rem;"><a href="#homebrew" class="block w-full">Homebrew</a></div></div><div class="md:border-l-2 md:px-4 md:py-1 hover:text-main hover:border-main hover:bg-main/20"><div style="padding-left: 0.5rem;"><a href="#java" class="block w-full">Java</a></div></div><div class="md:border-l-2 md:px-4 md:py-1 hover:text-main hover:border-main hover:bg-main/20"><div style="padding-left: 0.5rem;"><a href="#nodejs" class="block w-full">Node.js</a></div></div><div class="md:border-l-2 md:px-4 md:py-1 hover:text-main hover:border-main hover:bg-main/20"><div style="padding-left: 0.5rem;"><a href="#mobile-development" class="block w-full">Mobile Development</a></div></div><div class="md:border-l-2 md:px-4 md:py-1 hover:text-main hover:border-main hover:bg-main/20"><div style=""><a href="#virtualization" class="block w-full">Virtualization</a></div></div><div class="md:border-l-2 md:px-4 md:py-1 hover:text-main hover:border-main hover:bg-main/20"><div style=""><a href="#docker" class="block w-full">Docker</a></div></div><div class="md:border-l-2 md:px-4 md:py-1 hover:text-main hover:border-main hover:bg-main/20"><div style="padding-left: 0.5rem;"><a href="#kubernetes" class="block w-full">Kubernetes</a></div></div><div class="md:border-l-2 md:px-4 md:py-1 hover:text-main hover:border-main hover:bg-main/20"><div style=""><a href="#summary" class="block w-full">Summary</a></div></div>
						</div>
					</div>
				</nav>
			</aside>

			<div class="w-full prose sm:w-3/4 max-w-none">
				<h2 id="introduction">Introduction</h2>
<p>Recently someone asked me whether my developers can use Apple M1 Macbooks for development. Macbooks have always been a favourite for developers, as they are at heart a Unix environment, and it is a no-brainer decision if you are in mobile application development. The popularity if Macbooks are such that I’ve even started to see open-source libraries being ‘Mac first’.</p>
<p>The M1 Macbooks have been available since end-2020, so let’s review the current state and what it means for web and mobile developers.</p>
<blockquote>
<p>Disclaimer: This is not a How-To guide. I’m still using an Intel Macbook myself, so I don’t have first-hand experience. This discussion is just based on the literature so far that I can find at this point in time. I may be incorrect and things may have changed by the time you are reading this article. I may update this article as I find more information.</p>
</blockquote>
<h2 id="native-vs-emulation">Native vs Emulation</h2>
<p>For native Mac apps, the current version of XCode now can cross-compile to both Intel and ARM architectures, and package them together using the new ‘Universal 2’ application format.</p>
<p>Universal 1 was actually for PowerPC and Intel, so this is not the first time that Apple had multiple architectures. However, this is probably the first time that Macs are the de-facto choice for most developers.</p>
<p>However, many of our web development tools are not native Mac apps, as many came from the Linux world with the objective to run on Linux servers. The current approach seems to centre around using Rosetta 2.</p>
<h2 id="development-tools">Development Tools</h2>
<h3 id="google-chrome">Google Chrome</h3>
<p>Chrome is available for M1, and performance is faster than running on Rosetta 2 emulation.</p>
<h3 id="electron-apps">Electron Apps</h3>
<p>Many popular desktop apps such as Slack, WhatsApp and VSCode are actually Electron web apps running in an embedded Chromium browser. Apple Silicon support was introduced since Electron 11.0 in Nov 2020, and they fixed a couple of issues in 12 and 13. Performance on ARM would depend on the version of Chromium.</p>
<h3 id="vscode">VSCode</h3>
<p>VSCode has been available in stable for Apple Silicon since Feb 2021 with version 1.54.</p>
<h3 id="homebrew">Homebrew</h3>
<p>Homebrew 3.0.0 (released 5 Feb 2021) added official support for Apple Silicon, and you can install the ARM version under <code>/opt/homebrew</code>. However, not all formulae supports Apple Silicon yet, so for now the recommendation is to run Homebrew under Rosetta 2 using the <code>arch -x86_64</code> flag.</p>
<h3 id="java">Java</h3>
<p>Oracle’s JDK will run under Rosetta 2, but it appears they do not have native builds for Apple Silicon. To get native Apple Silicon support, currently you can install Azul’s Zulu OpenJDK builds.</p>
<h3 id="nodejs">Node.js</h3>
<p>Node.js introduced Apple Silicon support with Node.js 16 on April 2020.</p>
<p>I might be tempted to think that Node.js development would be fine, but I’m also aware that there are some node_modules that on <code>npm install</code> will invoke gcc to build native dependencies, so there is still a risk that something breaks.</p>
<h3 id="mobile-development">Mobile Development</h3>
<p><strong>XCode</strong> is not an issue, of course.</p>
<p><strong>fastlane</strong> should work, although I’ve read some users had problems initially which seems to stem from the underlying Ruby version used.</p>
<p><strong>Android Studio</strong> support for Apple Silicon is still preliminary (currently Android Studio Arctic Fox Canary 15). The Intel version works with Rosetta 2 however.</p>
<p><strong>React Native</strong> should work as reported by some. But some Pods may not be ready for Apple Silicon, or may need to be updated. Also, some recommendations I’ve read include clearing the DerivedData folder and performing a clean build.</p>
<p>However, I’ve also read some people having problems with YogaKit (the layout engine in React Native), and the solution apparently is to run XCode with ‘Open with Rosetta’ set to true, which contradicts other reports.</p>
<p><strong>Flutter</strong> support for Apple Silicon is still in development, but apparently works via Rosetta 2.</p>
<h2 id="virtualization">Virtualization</h2>
<p>VirtualBox doesn’t on Apple Silicon yet. Neither does VMware. This may be a major issue for some development teams whose workflows require running VMs locally.</p>
<p>There is apparently a Mac hypervisor called UTM based on QEMU that works. However, based on what I’ve read it runs only ARM images - the use case is to run ARM versions of Linux (and Windows) on your ARM Mac.</p>
<h2 id="docker">Docker</h2>
<p>There are two things about Docker to note here: there is the Docker tooling itself, and there is the building and running of Docker container images.</p>
<p>Docker Desktop for Mac is now available as a GA release, but you will still need to install Rosetta 2 as some binaries are still for Intel.</p>
<p>As for Docker images, the documentation says you can build and run images for both x86 and ARM architectures.</p>
<p>You can cross-compile to different architectures using the experimental <code>buildx</code> feature. But I don’t think this would be a typical use case for most development teams, as the building of container images would be handled by the CI/CD pipelines.</p>
<p>The main use case for most teams would be to run existing Intel-based images under emulation e.g. to run dependent middleware or services for local testing, or for development inside the container. This can be achieved by adding <code>--platform linux/amd64</code> when running the container. However, Docker warns that running Intel-based containers under ARM is on ‘best effort’ basis only, and they may crash under emulation.</p>
<p>One known issue is <code>inotify</code> does not work under QEMU emulation. <code>inotify</code> is used for filesystem change notifications, and may be a deal-breaker for some applications. Another known issue is occasionally data drops.</p>
<p>Running Intel-based containers under ARM emulation also slower and use more memory. This could be another deal-breaker if you need to run your entire container stack locally for development and testing, or perhaps it already is, since there are no M1 Macbooks with more than 16 Gb RAM yet.</p>
<p>Docker recommends using ARM64 images whenever possible, and they expect more images to be built for ARM over time, so this issue will go away. However, I think they are the missing the point here about what developers need, although I can’t really fault them for the current state of affairs.</p>
<h3 id="kubernetes">Kubernetes</h3>
<p>There are instructions for Apple Silicon in the Kubernetes documentation, so I think it works. However, the caveats should be the same as for Docker.</p>
<h2 id="summary">Summary</h2>
<p>It is indeed possible to use an Apple M1 Macbook for development, and many people have done it, but you will need to know how to navigate the native vs emulation issues, and adapt your workflows accordingly. But your mileage may vary depending on the languages and frameworks you use.</p>
<p>In my view, the greatest problem would be running VMs and containers. It is a fact that most of the enterprise server world are currently on x86_64 architectures, and although ARM servers are available they are not mainstream. Development teams who need to work with VMs and containers may need to adapt their workflows if they want to use Apple M1 Macbooks for development. Furthermore not every developer might understand the implications of different CPU architectures. Hence, I’m currently hesitant to recommend using Apple Silicon for professional development work.</p>
			</div>
		</div>
	</article>
				</main>
				<div class="container flex flex-col items-center max-w-3xl px-6 mx-auto xl:max-w-5xl">
	<div class="flex space-x-4">
		<a target="_blank" href="https://twitter.com/geksiong">
				<span class="sr-only">twitter</span>
				<svg viewBox="0 0 24 24" class="w-8 hover:text-main" astro-icon="tabler:brand-twitter"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84 0 0 0 .497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg>
			</a><a target="_blank" href="https://github.com/geksiong">
				<span class="sr-only">github</span>
				<svg viewBox="0 0 24 24" class="w-8 hover:text-main" astro-icon="tabler:brand-github"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6 0 0 0-1.3-3.2 4.2 4.2 0 0 0-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3 0 0 0-6.2 0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2 0 0 0-.1 3.2A4.6 4.6 0 0 0 4 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg>
			</a>
	</div>
</div>

		<footer class="container flex flex-col max-w-3xl px-6 pt-6 mx-auto md:flex-row md:place-content-between xl:max-w-5xl text-darkshade bg-lightshade">
			<p>Built with
				<a target="_blank" href="https://www.astro.build">
					<svg viewBox="0 0 32 32" class="inline w-6 text-darkshade hover:text-main" astro-icon="vscode-icons:file-type-astro"><path fill="#ff5d01" fill-rule="evenodd" d="M5.9 18.847a7.507 7.507 0 0 0-.572 2.624 3.265 3.265 0 0 0 .551 1.553 7.427 7.427 0 0 0 2.093 1.681l5.128 3.414a7.332 7.332 0 0 0 2.1 1.168 3.239 3.239 0 0 0 1.5 0 7.381 7.381 0 0 0 2.117-1.16L24 24.711a7.512 7.512 0 0 0 2.117-1.688 3.241 3.241 0 0 0 .55-1.563 7.515 7.515 0 0 0-.587-2.643L21.547 4.551a3.973 3.973 0 0 0-.54-1.3 1.733 1.733 0 0 0-.7-.51 3.972 3.972 0 0 0-1.4-.122h-5.902a3.932 3.932 0 0 0-1.4.125 1.713 1.713 0 0 0-.7.512 3.94 3.94 0 0 0-.535 1.3L5.9 18.848zm13.24-13.2a3.329 3.329 0 0 1 .441 1.093l3.892 12.784a16.168 16.168 0 0 0-4.653-1.573l-2.529-8.56a.331.331 0 0 0-.513-.169.323.323 0 0 0-.119.169l-2.5 8.557a16.14 16.14 0 0 0-4.674 1.579l3.908-12.784a3.281 3.281 0 0 1 .442-1.094 1.458 1.458 0 0 1 .582-.43 3.31 3.31 0 0 1 1.175-.1h2.793a3.314 3.314 0 0 1 1.176.1 1.454 1.454 0 0 1 .583.432zM16.127 21.06a5.551 5.551 0 0 0 3.4-.923 2.8 2.8 0 0 1-.207 2.182 3.938 3.938 0 0 1-1.547 1.481c-.674.428-1.254.8-1.254 1.787a2.079 2.079 0 0 0 .209.914 2.49 2.49 0 0 1-1.535-2.3v-.061c0-.683 0-1.524-.962-1.524a1.028 1.028 0 0 0-.391.077 1.021 1.021 0 0 0-.552.551 1.03 1.03 0 0 0-.079.391 3.769 3.769 0 0 1-.988-2.644 4.206 4.206 0 0 1 .175-1.248c.4.757 1.92 1.32 3.731 1.32z"/></svg>
				</a>
				and
				<a target="_blank" href="https://www.tailwindcss.com">
					<svg viewBox="0 0 32 32" class="inline w-6 text-darkshade hover:text-main" astro-icon="vscode-icons:file-type-tailwind"><path fill="#44a8b3" d="M9 13.7q1.4-5.6 7-5.6c5.6 0 6.3 4.2 9.1 4.9q2.8.7 4.9-2.1-1.4 5.6-7 5.6c-5.6 0-6.3-4.2-9.1-4.9q-2.8-.7-4.9 2.1zm-7 8.4q1.4-5.6 7-5.6c5.6 0 6.3 4.2 9.1 4.9q2.8.7 4.9-2.1-1.4 5.6-7 5.6c-5.6 0-6.3-4.2-9.1-4.9q-2.8-.7-4.9 2.1z"/></svg>
				</a>
			</p>
			<p>© 2022 GS Low. All views expressed are personal.</p>
		</footer>
			</div>
		</div>
  </body></html>